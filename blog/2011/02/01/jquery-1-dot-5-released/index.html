<!DOCTYPE html>
<html><head><meta charset="utf-8"><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"><meta content="width=device-width, user-scalable=no" name="viewport"><meta content="jQuery 1.5 Released" name="description"><link href="/favicon.ico" rel="shortcut icon" type="image/x-icon"><link href="https://fonts.googleapis.com/css?family=Merriweather:400,700|Open+Sans:400,700" rel="stylesheet" type="text/css"><link href="/bundles/84cd5d4454d9/styles.css" rel="stylesheet" /><title>jQuery 1.5 Released</title></head><body><div class="row"><blockquote class="warning">This post is over 6 months old.  Some details,
       especially technical, may have changed.</blockquote><div itemscope="" itemtype="http://schema.org/Article"><h1 itemprop="name">jQuery 1.5 Released</h1><div class="post" itemprop="articleBody">
<p>Official Post: <a href="http://blog.jquery.com/2011/01/31/jquery-15-released/">http://blog.jquery.com/2011/01/31/jquery-15-released/</a></p><p>Quick post just spread the word that jQuery 1.5 dropped today which is right  on time according the the schedule :) .  I guess it's a bit pointless because  the people that care already know this, but humour me!</p><h2>New Stuff</h2><p>There isn't a heap of "new to jQuery" stuff in this release which I guess is  a good thing.  The MS contributed plugins have stayed just that - plugins.   Previous talk of templating becoming absorbed into the jQuery core in 1.5 has  failed to bear fruit.  Good stuff - not sure why it should have been a core  function - there is no one right templating strategy/engine and putting one in  the core is sure to annoy as many people as it will please others.  So what's  new?</p><h3>Deferred Objects</h3><p>Deferred Objects are objects that return a contract that will be adhered to  regardless of when actions are bound to it.  This forms the heart of the Ajax  rewrite which I'll touch on in a minute.  This is essentially the <a href="http://en.wikipedia.org/wiki/Futures_and_promises">Promise</a> implementation  pattern.  Basically when you execute a function that returns a Deferred object  you can keep attaching callbacks to that object and they will get executed even  if they are bound after the function completes whatever operation it has to do.   The jQuery example demonstrates this very well,</p><p></p><div class="highlight"><pre><code><span class="c1">// Assign handlers immediately after making the request,</span>
<span class="c1">// and remember the jxhr object for this request</span>
<span class="kd">var</span> <span class="nx">jxhr</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span> <span class="nx">url</span><span class="o">:</span> <span class="s2">"example.php"</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">success</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"success"</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"error"</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">.</span><span class="nx">complete</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"complete"</span><span class="p">);</span> <span class="p">});</span>

<span class="c1">// perform other work here ...</span>

<span class="c1">// Set another completion function for the request above</span>
<span class="nx">jxhr</span><span class="p">.</span><span class="nx">complete</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span> <span class="nx">alert</span><span class="p">(</span><span class="s2">"second complete"</span><span class="p">);</span> <span class="p">});</span>
</code></pre></div>
<p>So basically at any point in time we can attach callbacks to the ajax  promise, pass it around our system, let other functions attach handlers etc and  it will all get resolved/executed when the call has completed.  It's nice stuff  though it may not have a TON of uses.</p><h3>jQuery.sub()</h3><p>Similar in a way to the YUI3 sandboxing technique jQuery.sub() lets us create  a clone or subclass of the global jQuery object and hack it to bits for our own  needs without affecting the global jQuery object.  Again limited uses but when  you need it it can be a godsend.  Here is a very contrived example,</p><p><div class="highlight"><pre><code><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$</span><span class="p">){</span>
    <span class="kd">var</span> <span class="nx">sub$</span> <span class="o">=</span> <span class="nx">$</span><span class="p">.</span><span class="nx">sub</span><span class="p">();</span>

    <span class="nx">sub$</span><span class="p">.</span><span class="nx">ajax</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
        <span class="c1">// some sort of stub for ajax testing</span>
    <span class="p">};</span>

    <span class="c1">// run tests involving ajax here</span>
    <span class="c1">// ... </span>
<span class="p">})(</span><span class="nx">jQuery</span><span class="p">);</span>
</code></pre></div>
</p><p>You see what I am doing?  Say I wanted to perform some sort of unit test  involving calls to the Ajax method.  I could, in isolation, make the Ajax method  return whatever I want without worrying about breaking other tests. </p><h2>Improved/Refactored Stuff</h2><h3>Ajax Rewrite</h3><p>The ajax module has been rewritten entirely.  It will now return a special  jQuery based XHR object (rather than a plain XHR object).  This object is a  deferred object that I spoke about above.  This means we can pass the ajax  request around and let components or modules attach their own handlers when  they need to.  We can also bind multiple callbacks via the jQuery chaining  pattern (see example above)</p><h3>Moar Speed</h3><p>As usual many of the DOM traversal methods have been given performance tweaks  - .children(), .prev(), and .next().  The official post has shiny graphs and  such so hop on over there for a full run down.</p><h2>Conclusion</h2><p>I hate that word but I don't have another word I like better.... Yes so I  haven't played with this a great deal recently, just some superficial tinkering  but it's a solid release that adds some nice features (with limited uses for  most I suspect).  I mean they could have kept deferred objects internal - they  were implemented for the Ajax stuff - but why not make it public - could be  useful to many people, and that is a good attitude. </p><p>Also good decisions were made to keep templating out of the core I think  (others may disagree but that's life!).  Finally this is going to be the jQuery version used in jQuery Mobile when it hits shortly!</p></div><a class="twitter" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fyobriefca.se%2Fblog%2F2011%2F02%2F01%2Fjquery-1-dot-5-released%2F&amp;text=jQuery%201.5%20Released&amp;via=kouphax" itemprop="discussionUrl" target="_blank">Tweet This</a><div class="dater"><time datetime="01-02-2011" itemprop="datePublished">February 01, 2011</time></div><div class="categories">Published in <a href="/categories/javascript/">JavaScript</a> on February 01, 2011</div></div></div><div class="homer"><a href="/"><i class="icon-briefcase" style="font-size:32px;"></i></a></div></body></html>
